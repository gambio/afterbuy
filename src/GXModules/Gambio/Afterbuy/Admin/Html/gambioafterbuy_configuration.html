{extends file="get_usermod:layouts/main/layout.html"}

{block name="content"}
    {load_language_text section="afterbuy"}
    {load_language_text section="module_center_module" name="mcm"}
    <style>
        #afterbuy-configuration select.form-control {
            max-width: initial;
        }
    </style>
    <div class="breakpoint-small">
        <form action="{$content.action_save_configuration}" method="POST" class="form-configuration"
              id="afterbuy-configuration">
            <input type="hidden" name="pageToken" value="{$content.pageToken}">
            <div class="form-horizontal">
                {*
                <fieldset>
                    <legend>{$txt.introductory_note}</legend>
                    <div class="form-group">
                        <div class="col-sm-12">
                            <span class="help-block">{$txt.introductory_note_text}</span>
                            {if $smarty.session.language_code === 'de'}
                                <p>Deutsch</p>
                            {else}
                                <p>Sumthing else</p>
                            {/if}
                        </div>
                    </div>
                </fieldset>
                *}
                <fieldset>
                    <legend>{$txt.configuration}</legend>
                    <div class="form-group">
                        <label class="col-sm-4 control-label">{$txt.module_active}</label>
                        <div class="col-sm-8" data-gx-widget="switcher">
                            <input type="hidden" name="configuration[active]" value="0"/>
                            <input type="checkbox" id="configuration[active]" value="1" name="configuration[active]"
                                   class="form-control" {($content.configuration['active'] == '1') ? 'checked="checked"' : ''} />
                        </div>
                    </div>
                    <div class="form-group">
                        <label class="col-sm-4 control-label">{$txt.product_sync_type}</label>
                        <div class="col-sm-7">
                            <select class="form-control" name="configuration[product_sync_type]">
                                <option value="pid_ean"
                                        {if $content.configuration['product_sync_type'] === "pid_ean"}selected{/if}>{$txt.product_sync_pid_ean}</option>
                                <option value="pid_anr"
                                        {if $content.configuration['product_sync_type'] === "pid_anr"}selected{/if}>{$txt.product_sync_pid_anr}</option>
                                <option value="model_ean"
                                        {if $content.configuration['product_sync_type'] === "model_ean"}selected{/if}>{$txt.product_sync_model_ean}</option>
                                <option value="model_anr"
                                        {if $content.configuration['product_sync_type'] === "model_anr"}selected{/if}>{$txt.product_sync_model_anr}</option>
                                <option value="model_prodid"
                                        {if $content.configuration['product_sync_type'] === "model_prodid"}selected{/if}>{$txt.product_sync_model_prodid}</option>
                            </select>
                        </div>
                        <div class="col-sm-1">
                            <span class="tooltip-icon" data-gx-widget="tooltip_icon"
                                  data-tooltip_icon-type="info">{$txt.product_sync_type_tooltip}</span>
                        </div>
                    </div>
                    <div class="form-group">
                        <label class="col-sm-4 control-label">{$txt.logging_level}</label>
                        <div class="col-sm-8">
                            <select class="form-control" name="configuration[minimum_log_level]">
                                <option value="debug"
                                        {if $content.configuration.minimum_log_level === 'debug'}selected{/if}>{$txt.logging_level_debug}
                                </option>
                                <option value="info"
                                        {if $content.configuration.minimum_log_level === 'info'}selected{/if}>{$txt.logging_level_info}
                                </option>
                                <option value="notice"
                                        {if $content.configuration.minimum_log_level === 'notice'}selected{/if}>{$txt.logging_level_notice}
                                </option>
                                <option value="warning"
                                        {if $content.configuration.minimum_log_level === 'warning'}selected{/if}>{$txt.logging_level_warning}
                                </option>
                                <option value="error"
                                        {if $content.configuration.minimum_log_level === 'error'}selected{/if}>{$txt.logging_level_error}
                                </option>
                            </select>
                        </div>
                    </div>
                </fieldset>
                <fieldset>
                    <legend>{$txt.config_xml_api}</legend>
                    <div class="form-group">
                        <label class="col-sm-4 control-label">{$txt.partner_token}</label>
                        <div class="col-sm-7">
                            <input type="text" class="form-control" name="configuration[partner_token]"
                                   id="partner_token" value="{$content.configuration['partner_token']}"
                                   {literal}pattern="[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}"{/literal}>
                        </div>
                        <div class="col-sm-1">
                            <span class="tooltip-icon" data-gx-widget="tooltip_icon"
                                  data-tooltip_icon-type="info">{$txt.partner_token_tooltip}</span>
                        </div>
                    </div>
                    <div class="form-group">
                        <label class="col-sm-4 control-label">{$txt.account_token}</label>
                        <div class="col-sm-7">
                            <input type="text" class="form-control" name="configuration[account_token]"
                                   id="account_token" value="{$content.configuration['account_token']}"
                                   {literal}pattern="[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}"{/literal}>
                        </div>
                        <div class="col-sm-1">
                            <span class="tooltip-icon" data-gx-widget="tooltip_icon"
                                  data-tooltip_icon-type="info">{$txt.account_token_tooltip}</span>
                        </div>
                    </div>
                </fieldset>
            </div>

            <div class="row">
                <div class="col-sm-12">
                    <button type="submit" class="btn btn-primary pull-right">{$txt.save_configuration}</button>
                </div>
            </div>
        </form>
    </div>
{/block}
